<div id="containerBox">
    <section id="custom01_section">
        <div class="subVisual">
            <div class="overlay">
                <div class="text">
                    <h2>CUSTOMER</h2>
                    <p>HOME&nbsp;&nbsp;>&nbsp;&nbsp;고객지원&nbsp;&nbsp;>&nbsp;&nbsp;1:1문의</p>
                </div>
                <div class="subnav">
                    <div class="subnav_box">
                        <a href="customer01.html" class="on">1:1문의</a>
                        <a href="ready.html">묻고답하기</a>
                        <a href="ready.html">FAQ</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="subTit row">
            <h2>1:1문의</h2>
            <p>PAHCOMPANY 홈페이지 1:1문의 페이지 입니다.</p>
        </div>
        <div class="csBox row">
            <form action="#" method="post" class="cs_form">
                <fieldset>
                    <legend>1:1문의양식</legend>
                    <ul class="cs_list">
                        <li>
                            <div class="label_box">
                                <label for="cs1_sort" class="tit_lbl">구분</label>
                            </div>
                            <div class="input_box">
                                <select id="cs1_sort" class="w150">
                                    <option value="category1">카테고리1</option>
                                    <option value="category2">카테고리2</option>
                                    <option value="category3">카테고리3</option>
                                </select>
                            </div>
                        </li>
                        <li>
                            <div class="label_box">
                                <label for="name_lbl" class="tit_lbl">이름</label>
                            </div>
                            <div class="input_box">
                                <input type="text" id="name_lbl" class="w150">
                            </div>
                        </li>
                        <li>
                            <div class="label_box">
                                <label for="phone_lbl" class="tit_lbl">전화번호</label>
                            </div>
                            <div class="input_box">
                                <input type="text" id="phone_lbl" class="w80">
                            </div>
                            <span>-</span>
                            <div class="input_box">
                                <input type="text" id="phone_lbl2" class="w80">
                            </div>
                            <span>-</span>
                            <div class="input_box">
                                <input type="text" id="phone_lbl3" class="w80">
                            </div>
                        </li>
                        <li>
                            <div class="label_box">
                                <label for="email_lbl" class="tit_lbl">이메일</label>
                            </div>
                            <div class="input_box">
                                <input type="text" id="email_lbl" class="w500">
                            </div>
                        </li>
                        <li>
                            <div class="label_box">
                                <label for="site_lbl" class="tit_lbl">사이트 주소</label>
                            </div>
                            <div class="input_box">
                                <input type="text" id="site_lbl" class="w500">
                            </div>
                        </li>
                        <li>
                            <div class="label_box">
                                <label for="title_lbl" class="tit_lbl">제목</label>
                            </div>
                            <div class="input_box">
                                <input type="text" id="title_lbl" class="w750">
                            </div>
                        </li>
                        <li>
                            <div class="label_box cont_lbl_box">
                                <label for="cont_lbl" class="tit_lbl">내용</label>
                            </div>
                            <div class="input_box cont_box">
                                <textarea id="cont_lbl" placeholder="상담요청 사항을 남겨주시면 보다 상세한 상담이 가능합니다.(500글자 이내)" maxlength="500"></textarea>
                                <p>남은글자 : <span class="remaintxt">500</span></p>
                            </div>
                            
                        </li>
                        <li>
                            <div class="label_box">
                                <label for="file_lbl" class="tit_lbl">파일첨부</label>
                            </div>
                            <div class="input_box file_box">
                                <input type="file">
                            </div>
                        </li>
                        <li>
                            <div class="agree_box">
                                <label for="agree_lbl" class="tit_lbl">• 개인정보의 수집 및 이용목적</label>
                                <div class="agree_check_box">
                                    <input type="checkbox" id="agree_check">
                                    <label for="agree_check">개인정보의 수집 및 이용목적에 동의합니다.</label>
                                </div>
                                <div class="agree_text_box">
                                    <textarea id="gree_text">▶ 개인정보의 수집 및 이용목적
- 서비스 이용에 따른 본인식별, 실명확인, 가입의사 확인, 연령제한 서비스 이용
- 고지사항 전달, 불만처리 의사소통 경로 확보, 물품배송 시 정확한 배송지 정보 확보
- 신규 서비스 등 최신정보 안내 및 개인맞춤서비스 제공을 위한 자료
- 기타 원활한 양질의 서비스 제공 등

▶ 수집하는 개인정보의 항목
- 이름, 이메일, 주민등록번호, 주소, 연락처, 핸드폰번호, 그 외 선택항목

▶ 개인정보의 보유 및 이용기간
- 원칙적으로 개인정보의 수집 또는 제공받은 목적 달성 시 지체 없이 파기합니다.
- 다만, 원활한 서비스의 상담을 위해 상담 완료 후 내용을 3개월간 보유할 수 있으며
전자상거래에서의 소비자보호에 관한 법률 등 타법률에 의해 보존할 필요가 있는 경우에는 일정기간 보존합니다.</textarea>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <div class="btn">
                        <button type="submit">확인</button>
                        <button type="reset">취소</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </section>
</div>

    
<script>
    $('.subnav a').on('click', function(e){
        e.preventDefault()
        var url = $(this).attr('href')
        $('#containerBox').remove()
        $('#containerArea').load(url)
    })

    // 유효성검사
    $('.cs_form').submit(function(){
        // 이름
        var nametxt = $('#name_lbl').val()
        if (nametxt.length>=2){
            if (!/^[가-힣a-zA-Z]+$/.test(nametxt)){
                alert('이름은 숫자, 특수문자를 입력할 수 없습니다.')
                $('#name_lbl').focus()
                $('#name_lbl').select()
                return false
            }
        } else {
            alert('이름은 2글자 이상 입력해야 합니다.')
            $('#name_lbl').focus()
            $('#name_lbl').select()
            return false
        }
        // 전화번호
        var tel1 = $('#phone_lbl').val()
        var tel2 = $('#phone_lbl2').val()
        var tel3 = $('#phone_lbl3').val()
        if(!/^01\d{1}$/.test(tel1) || !/^\d{3,4}$/.test(tel2) || !/^\d{4}$/.test(tel3)){
            alert('전화번호를 정확하게 입력하여 주세요.')
            return false
        }
        // 이메일
        var email = $('#email_lbl').val()
        if (!/^[a-zA-Z0-9]+[\@][a-zA-Z]+[\.][a-zA-Z]+$/.test(email)){
            alert('이메일을 정확하게 입력하여 주세요')
            $('#email_lbl').focus()
            $('#email_lbl').select()
            return false
        }
        // 동의 체크
        if(!$('#agree_check').prop('checked')){
            alert('개인정보 수집 및 이용목적 동의에 체크하여 주세요.')
            return false
        }
        return false
    })

    // 남은글자
    $('textarea').on('keyup', function(){
        var maxlength = 500
        var count = $(this).val().length
        var remain = maxlength - count
        $('.remaintxt').text(remain)
    })
    
    // 파일
    $('input[type=file]').on('mouseover', function(){
        $(this).after('<span style="font-size:0.9rem; color:#c1c1c1; line-height:22px; padding-left: 10px;">※ 업로드 가능한 파일은 5MB 이하입니다.</span>')
    }).on('mouseout', function(){
        $(this).next().remove()
    })
    

</script>